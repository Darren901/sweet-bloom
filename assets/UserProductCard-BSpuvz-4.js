import{c as b}from"./cartStore-BaomHWyO.js";import{f as l}from"./favoritesStore-B7fnyBL3.js";import{s as h}from"./statusStore-AM89yjSO.js";import{l as u,m,_ as v,o as i,c as d,b as r,t as c,f as p,k as f,d as n,n as _}from"./index-Os4zg95r.js";const g={props:{product:{type:Object,required:!0}},methods:{handleProductClick(){this.$router.push(`product/${this.product.id}`)},...u(b,["addToCart"]),...u(l,["toggleFavorite"])},computed:{...m(h,["cartLoadingItem"]),...m(l,["favorites"]),isFavorite(){return this.favorites.some(s=>s.id===this.product.id)}}},k=["src","alt"],y={class:"card-body px-2"},C={class:"mb-0 mt-1 card-title"},x={href:"#",class:"text-decoration-none text-dark"},N={class:"card-text mb-3 mt-1"},S={key:0,class:"text-muted"},T=["disabled"],F={key:0,class:"spinner-border text-primary spinner-border-sm me-1",role:"status"};function I(s,t,e,L,P,o){return i(),d("div",{class:"card mb-4",onClick:t[2]||(t[2]=n((...a)=>o.handleProductClick&&o.handleProductClick(...a),["stop"])),"data-aos":"fade-up"},[r("img",{class:"card-img-top",src:e.product.imageUrl,alt:e.product.title},null,8,k),r("div",y,[r("h5",C,[r("a",x,c(e.product.title),1)]),r("p",N,[p(" NT$"+c(this.$filters.currency(e.product.price))+" ",1),e.product.origin_price?(i(),d("span",S,[r("del",null,"NT$"+c(this.$filters.currency(e.product.origin_price)),1)])):f("",!0),r("a",{class:"text-primary float-end",onClick:t[0]||(t[0]=n(a=>s.toggleFavorite(e.product),["prevent","stop"]))},[r("i",{class:_(["bi",o.isFavorite?"bi-heart-fill":"bi-heart"])},null,2)])]),r("button",{class:"btn btn-outline-primary w-100",onClick:t[1]||(t[1]=n(a=>s.addToCart(e.product.id),["prevent","stop"])),disabled:s.cartLoadingItem===e.product.id},[s.cartLoadingItem===e.product.id?(i(),d("div",F,t[3]||(t[3]=[r("span",{class:"visually-hidden"},"Loading...",-1)]))):f("",!0),t[4]||(t[4]=p(" 加入購物車 "))],8,T)])])}const j=v(g,[["render",I],["__scopeId","data-v-6ef3695d"]]);export{j as U};
