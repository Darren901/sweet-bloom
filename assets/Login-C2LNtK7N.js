import{_ as u,c as p,a as m,b as e,w as l,v as d,d as f,F as h,r as g,o as w}from"./index-CywCkABC.js";const b={data(){return{user:{username:"",password:""},isLoading:!1}},methods:{async handleLogin(){const n="https://vue3-course-api.hexschool.io/admin/signin";try{this.isLoading=!0;let s=await this.axios.post(n,this.user);if(s.data.success){const{token:i,expired:a}=s.data;document.cookie=`myToken=${i}; expires=${new Date(a)}`,this.$httpMessageState(s,"登入"),this.$router.push("/dashboard/products")}}catch(s){console.log(s)}finally{this.isLoading=!1}}}},v={class:"container d-flex justify-content-center align-items-center",style:{"min-height":"75vh"}},y={class:"row justify-content-center align-items-center w-100"},x={class:"col-md-6"},_={class:"mb-2"},L={class:"mb-2"},k={class:"text-center mt-4"};function E(n,s,i,a,t,r){const c=g("Loading");return w(),p(h,null,[m(c,{active:t.isLoading},null,8,["active"]),e("div",v,[e("form",y,[e("div",x,[s[5]||(s[5]=e("h1",{class:"mb-3 text-center"},"後臺管理",-1)),e("div",_,[s[3]||(s[3]=e("label",{for:"inputEmail",class:"sr-only"},"Email address",-1)),l(e("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address",required:"",autofocus:"","onUpdate:modelValue":s[0]||(s[0]=o=>t.user.username=o)},null,512),[[d,t.user.username]])]),e("div",L,[s[4]||(s[4]=e("label",{for:"inputPassword",class:"sr-only"},"Password",-1)),l(e("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"Password",required:"","onUpdate:modelValue":s[1]||(s[1]=o=>t.user.password=o)},null,512),[[d,t.user.password]])]),e("div",k,[e("button",{class:"btn btn-lg btn-primary btn-block",type:"submit",onClick:s[2]||(s[2]=f((...o)=>r.handleLogin&&r.handleLogin(...o),["prevent"]))}," 登入 ")])])])])],64)}const V=u(b,[["render",E]]);export{V as default};
