import{_ as v,o as _,c as m,a,b as o,e as r,f as l,F as h,r as n,g as b}from"./index-CPswxAJw.js";import{T as f}from"./ToastMessages-CXLuOlZJ.js";import"./component-functions-ChmvSYkW.js";import"./statusStore-DTCKUx_j.js";const $={data(){return{isLoading:!1}},methods:{async logout(){const e="https://vue3-course-api.hexschool.io/logout";this.isLoading=!0;let s=await this.axios.post(e);this.isLoading=!1,s.data.success&&this.$router.push("/login")}}},x={class:"navbar navbar-expand-lg navbar-light bg-light"},k={class:"container-fluid"},N={class:"collapse navbar-collapse",id:"navbarNav"},T={class:"navbar-nav"},y={class:"nav-item me-3"},L={class:"nav-item me-3"},w={class:"nav-item me-3"},B={class:"nav-item me-3"};function C(e,s,i,g,u,c){const d=n("Loading"),t=n("router-link");return _(),m(h,null,[a(d,{active:u.isLoading},null,8,["active"]),o("nav",x,[o("div",k,[a(t,{class:"navbar-brand text-primary",to:"/dashboard/products"},{default:r(()=>s[1]||(s[1]=[l("Sugar Bloom")])),_:1}),s[5]||(s[5]=o("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[o("span",{class:"navbar-toggler-icon"})],-1)),o("div",N,[o("ul",T,[o("li",y,[a(t,{class:"nav-link",to:"/dashboard/products"},{default:r(()=>s[2]||(s[2]=[l("產品列表")])),_:1})]),o("li",L,[a(t,{class:"nav-link",to:"/dashboard/orders"},{default:r(()=>s[3]||(s[3]=[l("訂單列表")])),_:1})]),o("li",w,[a(t,{class:"nav-link",to:"/dashboard/coupons"},{default:r(()=>s[4]||(s[4]=[l("優惠券")])),_:1})]),o("li",B,[o("a",{class:"nav-link",href:"#",onClick:s[0]||(s[0]=(...p)=>c.logout&&c.logout(...p))},"登出")])])])])])],64)}const M=v($,[["render",C]]),V={provide(){return{emitter:b}},components:{ToastMessages:f,Nav:M},async created(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.axios.defaults.headers.common.Authorization=e;const s="https://vue3-course-api.hexschool.io/api/user/check";try{(await this.axios.post(s)).data.success||this.$router.push("/login")}catch(i){console.log(i)}}},F={class:"container mt-3 position-relative"};function z(e,s,i,g,u,c){const d=n("Nav"),t=n("ToastMessages"),p=n("router-view");return _(),m("div",F,[a(d),a(t),a(p)])}const j=v(V,[["render",z]]);export{j as default};
